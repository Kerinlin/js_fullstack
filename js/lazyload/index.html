<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>懒加载图片</title>
</head>
<body>

    <!-- 网页在渲染的时候,http请求数
    chrome性能最好,同时并发请求数十几个 
        将图片下载 放到dom ready之后,将有效提升网页打开速度
        占位图片
       优化前 n张照片 url 不一样 http请求数是 n,
       优化后,图片上的Http请求数只有1,

       如果url一样,不会重复发送
-->
    <img 
    class="pic1"
    src="http://static.youku.com/yk/vmanage/img/manage/video/mask.d53611efc6.png"
     origin_src="http://g.hiphotos.baidu.com/image/pic/item/37d3d539b6003af37401eb21392ac65c1038b633.jpg"alt="">
    
    
    <script src="./lazyload.js">
    
    
    
    
    </script>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <script>
       /* 用户看到网页了,dom ready
        优化图片下载,将其推后
        */
    
    window.onload=function () {
        const img = document.querySelector('.pic1'); 
       
        LazyLoadImage.setSrc(img);        
        
         }
        
        
        //页面打开后,重新下载图片      
     /*    const url =img.getAttribute('origin_src');
        // img.src = url;
        const oImg=document.createElement('img');
        oImg.style.display='none';
        document.body.appendChild(oImg);
        oImg.onload=function(){
            // console.log(url); 
            // url一旦下载,会在浏览器缓存文件(静态)
            // 懒加载
            img.src=url;
        }
        oImg.src=url; */
        /* 
            图片下载是异步的
        
         */
    
    </script>
</body>
</html>